(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{14:function(t,e,s){},9:function(t,e,s){"use strict";s.r(e);var n=s(2),r=s(3),i=s(4),a=s(6),o=s(5),c=s(1),u=s.n(c),h=s(8),l=s.n(h),p=(s(14),s(0));function d(t){var e=Math.sqrt(t);return Math.floor(e)!==e||e<3||e>18?(console.error("Your input is invalid.We only accept legal numbers that we can square and the square number must be greater than 2."),0):e}var f=function(t){Object(a.a)(s,t);var e=Object(o.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){var t=this;return Object(p.jsx)("button",{className:"square",style:{fontWeight:this.props.id===this.props.chessIndex?"700":"300",backgroundColor:this.props.winners.indexOf(this.props.id)>-1?"yellow":"white",animation:this.props.winners.indexOf(this.props.id)>-1?"flash .3s infinite":""},onClick:function(){return t.props.onClick(t.props.id)},onDrag:this.props.onMouseMove(this.props.id),children:this.props.value})}}]),s}(u.a.Component),v=function(t){Object(a.a)(s,t);var e=Object(o.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"createSquares",value:function(){var t=this,e=d(this.props.squares.length);if(e){for(var s=[],n=0,r=0;r<e;r++){for(var i=[],a=0;a<e;a++)i.push(Object(p.jsx)(f,{id:n,value:this.props.squares[n],chessIndex:this.props.chessIndex,winners:this.props.winners,onClick:function(e){return t.props.onClick(e)},onMouseMove:function(e){return t.props.onMouseMove(e)}},n)),n++;s.push(Object(p.jsx)("div",{className:"board-row",children:i},r))}return s}}},{key:"render",value:function(){return Object(p.jsx)("div",{children:this.createSquares()})}}]),s}(u.a.Component),x=function(t){Object(a.a)(s,t);var e=Object(o.a)(s);function s(t){var i;Object(r.a)(this,s),i=e.call(this,t);var a=d(25);return i.state={history:[{squares:Array(25).fill(null)}],xIsNext:!0,current:0,winners:a?i.getWinnersArr(a):[],isEnd:!1,position:"row 1, column 1",chessIndex:0,chessTotal:25,sqrtCount:a,finalWinners:[]},i.inputChessTotal=i.inputChessTotal.bind(Object(n.a)(i)),i}return Object(i.a)(s,[{key:"getWinnersArr",value:function(t){for(var e=[],s=0,n=0;n<t;n++){for(var r=[],i=0;i<t;i++)r.push(s),s++;e.push(r)}for(var a=0;a<t;a++){for(var o=[],c=a,u=0;u<t;u++)o.push(c),c+=t;e.push(o)}var h=[];s=0;for(var l=0;l<t;l++)h.push(s),s+=t+1;e.push(h),h=[],s=t-1;for(var p=0;p<t;p++)h.push(s),s+=t-1;return e.push(h),e}},{key:"checkWinner",value:function(t,e){var s=this.state.history[null!==t&&void 0!==t?t:this.state.current].squares,n=this.state.sqrtCount,r=this.state.winners,i="",a=[];return r.forEach((function(t){for(var e=[],r=0;r<n;r++)e.push(s[t[r]]);e.filter((function(t){return"x"===t})).length===e.length&&(i="x",a=t),e.filter((function(t){return"o"===t})).length===e.length&&(i="o",a=t)})),e?a:i}},{key:"checkDraw",value:function(t){var e=this.state.history[null!==t&&void 0!==t?t:this.state.current].squares,s=this.state.sqrtCount,n=this.state.winners;if(this.checkWinner(t))return!1;var r=!0;return n.forEach((function(t){for(var n=[],i=0;i<s;i++)n.push(e[t[i]]);n.indexOf("x")>-1&&n.indexOf("o")>-1?r&=!0:r&=!1})),r}},{key:"handleClick",value:function(t){var e=this.state.history.slice(),s=e[this.state.current];if(!s.squares[t]&&!this.state.isEnd){if(this.checkDraw(this.state.current))return alert("You have got a draw and the game is over!"),void this.setState({isEnd:!0});s.squares[t]=this.state.xIsNext?"x":"o",e[this.state.current]=s;var n=this.checkWinner(),r=this.checkWinner(this.state.current,!0);this.setState({history:e,xIsNext:!this.state.xIsNext,isEnd:!!n,position:"row "+this.calculateRow(t+1)+", column "+(this.calculateColumn(t)+1),chessIndex:t,finalWinners:r})}}},{key:"clearBoard",value:function(){if(!(this.state.chessTotal<9)){var t=[{squares:Array(this.state.chessTotal).fill(null)}];this.setState({isEnd:!1,history:t.concat(this.state.history),position:"row 1, column 1",finalWinners:[]})}}},{key:"calculateRow",value:function(t){var e=this.state.sqrtCount;return Math.ceil(t/e)}},{key:"calculateColumn",value:function(t){return t%this.state.sqrtCount}},{key:"backTo",value:function(t){var e=1*t.target.id,s=this.state.history[e];this.setState({history:[s].concat(this.state.history),finalWinners:this.checkWinner(e,!0)})}},{key:"inputChessTotal",value:function(t){var e=1*t.target.value;this.state.history.slice();if(e){this.setState({chessTotal:e});var s=d(e);if(s){console.error("Change the number of squares will clear all data.Do you want to continue.");var n={squares:Array(e).fill(null)};this.setState({history:[n],xIsNext:!0,current:0,winners:this.getWinnersArr(s),isEnd:!1,position:"row 1, column 1",chessIndex:0,sqrtCount:s,finalWinners:[]})}}}},{key:"onMouseMove",value:function(t){}},{key:"render",value:function(){var t=this,e=this.state.history,s=e[this.state.current],n=this.checkWinner(),r="",i=[];r=n?"Winner is: "+n:"Next player is: "+(this.state.xIsNext?"x":"o"),e.map((function(e,s){var n=t.checkWinner(s),r=t.checkWinner(s,!0),a="",o=e.squares.length;return n&&(a="And the winner's chess order is "+r.join(",")+"."),i.push(Object(p.jsxs)("li",{id:s,onClick:function(e){return t.backTo(e)},style:{cursor:"pointer"},className:"timeline",children:["No.",s+1,". The Squares total is ",o,". Winner is ",n,".",a]},s)),""}));var a=Object(p.jsx)("input",{value:this.state.chessTotal,style:{width:"64px",marginLeft:"10px"},placeholder:"chess num",onBlur:this.inputChessTotal,onChange:this.inputChessTotal});return Object(p.jsxs)("div",{style:{minWidth:"650px",padding:"30px",border:"1px solid #e1e1e1",borderRadius:"10px",margin:"50px auto"},children:[Object(p.jsxs)("h2",{className:"title react",children:["Let's beggin...",a,Object(p.jsx)("button",{style:{marginLeft:"10px"},onClick:function(){return t.clearBoard()},children:"Retry"})]}),Object(p.jsxs)("div",{className:"game",children:[Object(p.jsx)("div",{className:"game-board",children:Object(p.jsx)(v,{onClick:function(e){return t.handleClick(e)},squares:s.squares,chessIndex:this.state.chessIndex,winners:this.state.finalWinners,onMouseMove:function(e){return t.onMouseMove(e)}})}),Object(p.jsxs)("div",{className:"game-info",children:[Object(p.jsx)("div",{children:r}),Object(p.jsx)("ol",{children:i})]})]}),Object(p.jsxs)("div",{style:{marginTop:"15px",color:"#FF5733"},children:["position: ",this.state.position]})]})}}]),s}(u.a.Component);l.a.render(Object(p.jsx)(x,{}),document.getElementById("root"))}},[[9,1,2]]]);
//# sourceMappingURL=main.df45a2ea.chunk.js.map